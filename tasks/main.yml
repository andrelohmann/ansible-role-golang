---

- name: GoLang | Install dependencies
  ansible.builtin.apt:
    name: "{{ packages }}"
    state: present
    dpkg_options: 'force-confnew,force-confdef'
    autoclean: true
    autoremove: true
    update_cache: true
    cache_valid_time: 3600
  vars:
    packages:
    - snapd

# Install a snap with classic confinement
- name: GoLang | Install "go" with option --classic
  community.general.snap:
    name: go
    classic: true

- name: GoLang | Iterate golang_users
  ansible.builtin.include_tasks: user.yml
  with_items: "{{ golang_users }}"
  loop_control:
    loop_var: golang_user

...
